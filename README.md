# 💰 Money Bot - Telegram-бот для учёта личных финансов

![Go](https://img.shields.io/badge/go-%2300ADD8.svg?style=for-the-badge&logo=go&logoColor=white)
![Telegram](https://img.shields.io/badge/Telegram-26A5E4?style=for-the-badge&logo=telegram&logoColor=white)
![SQLite](https://img.shields.io/badge/sqlite-%2307405e.svg?style=for-the-badge&logo=sqlite&logoColor=white)

Простой и удобный Telegram-бот для учёта личных доходов и расходов. Этот проект был создан как учебный, с фокусом на освоение языка программирования Go, работу с базами данных, взаимодействие с внешними API и написание качественного кода.

---

## 🚀 Функционал

Бот предоставляет следующий набор команд и возможностей:

* **Ввод данных:**
    * Просто отправьте число, чтобы записать **доход** (например, `10000`).
    * Отправьте число со знаком минус, чтобы записать **расход** (например, `-2500`).
    * Поддерживает **комментарии** к транзакциям (например, `-500 Обед`).
* **Умная классификация:**
    * Автоматическое определение категории для расходов по комментарию с помощью **DeepSeek API**.
* **Отчёты:**
    * `/today` — вывести итоги за текущий день.
    * `/week` — вывести итоги за текущую неделю.
    * `/month` — вывести итоги за текущий месяц.
* **Управление данными:**
    * `/clear_last` — удалить последнюю введенную транзакцию.
    * `/clear_today` — удалить все транзакции за текущий день.
* **Экспорт:**
    * `/export` — выгрузить все транзакции в формате `.csv`.

---

## 🛠️ Стек технологий

* **Язык:** Go
* **Telegram Bot API:** `go-telegram-bot-api/v5`
* **База данных:** SQLite
* **ORM:** `gorm`
* **AI классификация:** `DeepSeek API`
* **Переменные окружения:** `godotenv`

---

## 📦 Установка и запуск

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/Ваш_логин/money-bot.git
    cd money-bot
    ```

2.  **Получите токен для вашего бота** у @BotFather в Telegram.

3.  **Получите ключ API** на сайте DeepSeek.

4.  **Создайте файл `.env`** в корневой директории проекта и добавьте в него ваши ключи:
    ```env
    TELEGRAM_BOT_TOKEN="ваш_токен_здесь"
    DEEPSEEK_API_KEY="ваш_ключ_deepseek_здесь"
    ```

5.  **Установите зависимости и запустите бота:**
    ```bash
    go mod tidy
    go run ./cmd/bot
    ```

---

## 📂 Структура проекта

```
.
├── cmd/
│   └── bot/
│       └── main.go       # Точка входа в программу
├── internal/
│   ├── bot/
│   │   └── bot.go        # Основная логика бота и маршрутизация команд
│   ├── handlers/
│   │   ├── export.go     # Хендлер для команды /export
│   │   ├── helpers.go    # Вспомогательные функции для работы с датами
│   │   ├── report.go     # Хендлер для отчётов (/today, /week, /month)
│   │   └── start.go      # Хендлер для команды /start
│   └── storage/
│       ├── models.go     # Модель данных (структура Transaction)
│       └── storage.go    # Логика для работы с базой данных
├── ai/
│   └── promt.go        # Логика для взаимодействия с AI API
├── db/
│   └── data.db           # Файл базы данных SQLite
└── go.mod
```


---

## 💡 Идеи для развития (Будущие улучшения)

* **API Deepseek:** Интеграция с Deepseek API для получения умного анализа расходов и персонализированных советов.
* **Категории:** Добавление возможности классификации расходов и доходов по категориям.
* **Пользовательский интерфейс:** Использование inline-кнопок и других элементов UI Telegram.
